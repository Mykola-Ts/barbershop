{"version":3,"file":"index.js","sources":["../src/js/eventHandlersBooking.js","../src/js/eventHandlersMobileMenu.js","../src/js/eventHandlersScrollToTop.js","../src/js/helpers.js","../src/js/swiper.js","../src/js/main.js"],"sourcesContent":["const selectors = {\n  body: document.querySelector('body'),\n  modalWindow: document.querySelector('.js-modal-window'),\n  modalWindowText: document.querySelector('.js-modal-window-text'),\n  closeModalWindowBtn: document.querySelector('.js-close-modal-window-btn'),\n  modalWindowOkBtn: document.querySelector('.js-modal-window-ok-btn'),\n};\n\n/**\n * Handles the submission of the booking form.\n * Prevents the default form submission behavior, validates required fields (name and phone), shows a confirmation modal window with a personalized message, and resets the form.\n *\n * @param {SubmitEvent} evt The form submit event object\n *\n * @returns {{name: string, phone: string, message: string}} An object containing the submitted form data\n *\n * @throws {Error} If required fields (name or phone) are empty\n */\n\nexport function handlerSubmitBookingForm(evt) {\n  evt.preventDefault();\n\n  const form = evt.currentTarget;\n\n  const name = form.elements.name?.value.trim() || '';\n  const phone = form.elements.phone?.value.trim() || '';\n  const message = form.elements.message?.value.trim() || '';\n\n  if (!name || !phone) throw new Error('Name and phone is required!');\n\n  form.reset();\n\n  handlerOpenModalWindow(\n    `Thank you for your request, ${name}! \\nOur manager will contact you shortly at ${phone} to confirm the details. \\nHave a great day! 😉`\n  );\n\n  return { name, phone, message };\n}\n\n/**\n * Opens the modal window with a custom message text by removing the 'is-hidden' class and adding event listeners for closing it.\n *\n * Adds event listeners for:\n * - clicking the OK button ('modalWindowOkBtn');\n * - clicking the close button ('closeModalWindowBtn');\n * - clicking the menu backdrop ('modalWindow');\n * - pressing the Escape key.\n *\n * Also adds the 'modal-window-open' class to the <body> element to prevent background scrolling.\n *\n * @param {string} messageText The text content to display inside the modal window\n */\n\nfunction handlerOpenModalWindow(messageText = '') {\n  selectors.modalWindow.classList.remove('is-hidden');\n  selectors.body.classList.add('modal-window-open');\n\n  selectors.modalWindowText.textContent = messageText;\n\n  selectors.modalWindowOkBtn.addEventListener('click', handlerCloseModalWindow);\n  selectors.closeModalWindowBtn.addEventListener(\n    'click',\n    handlerCloseModalWindow\n  );\n  selectors.modalWindow.addEventListener(\n    'click',\n    handlerCloseModalByClickBackdrop\n  );\n  window.addEventListener('keydown', handlerCloseModalByEscape);\n}\n\n/**\n * Closes the modal window by adding the 'is-hidden' class and removing related event listeners.\n * Also removes the 'modal-window-open' class from the <body> to restore normal scrolling.\n */\n\nfunction handlerCloseModalWindow() {\n  selectors.modalWindowOkBtn.removeEventListener(\n    'click',\n    handlerCloseModalWindow\n  );\n  selectors.closeModalWindowBtn.removeEventListener(\n    'click',\n    handlerCloseModalWindow\n  );\n  selectors.modalWindow.removeEventListener(\n    'click',\n    handlerCloseModalByClickBackdrop\n  );\n  window.removeEventListener('keydown', handlerCloseModalByEscape);\n\n  selectors.modalWindow.classList.add('is-hidden');\n  selectors.body.classList.remove('modal-window-open');\n}\n\n/**\n * Handles a mouse click on the backdrop to close the modal window.\n * Calls the handlerCloseModalWindow function only if the click originated from the currentTarget element itself, not its child elements.\n *\n * @param {MouseEvent} evt The mouse event object\n */\n\nfunction handlerCloseModalByClickBackdrop(evt) {\n  if (evt.currentTarget === evt.target) {\n    handlerCloseModalWindow();\n  }\n}\n\n/**\n * Handles the Escape key press to close a modal window.\n * Calls the handlerCloseModalByEscape function if the Escape is pressed.\n *\n * @param {KeyboardEvent} evt The keyboard event object\n */\n\nfunction handlerCloseModalByEscape(evt) {\n  if (evt.code === 'Escape') {\n    handlerCloseModalWindow();\n  }\n}\n","const selectors = {\n  body: document.querySelector('body'),\n  mobileMenu: document.querySelector('.js-mobile-menu'),\n  closeMobileMenuBtn: document.querySelector('.js-close-mobile-menu-btn'),\n  mobileMenuNavList: document.querySelector('.js-mobile-menu-nav-list'),\n  mobileMenuBookingBtn: document.querySelector('.js-mobile-menu-booking-btn'),\n};\n\n/**\n * Opens the mobile menu by removing the 'is-hidden' class and adding event listeners for closing it.\n *\n * Adds click event listeners to:\n * - the close button ('closeMobileMenuBtn');\n * - the navigation list ('mobileMenuNavList');\n * - the menu backdrop ('mobileMenu');\n * - the online booking button ('mobileMenuBookingBtn').\n *\n * Also adds the 'mobile-menu-open' class to the <body> element to prevent background scrolling.\n */\n\nexport function handlerOpenMobileMenu() {\n  selectors.mobileMenu.classList.remove('is-hidden');\n  selectors.body.classList.add('mobile-menu-open');\n\n  selectors.closeMobileMenuBtn.addEventListener(\n    'click',\n    handlerCloseMobileMenu\n  );\n  selectors.mobileMenuNavList.addEventListener(\n    'click',\n    handlerClickMenuNavLink\n  );\n  selectors.mobileMenu.addEventListener(\n    'click',\n    handlerCloseMenuByClickBackdrop\n  );\n  selectors.mobileMenuBookingBtn.addEventListener(\n    'click',\n    handlerCloseMobileMenu\n  );\n}\n\n/**\n * Closes the mobile menu by adding the 'is-hidden' class and removing related event listeners.\n * Also removes the 'mobile-menu-open' class from the <body> to restore normal scrolling.\n */\n\nfunction handlerCloseMobileMenu() {\n  selectors.closeMobileMenuBtn.removeEventListener(\n    'click',\n    handlerCloseMobileMenu\n  );\n  selectors.mobileMenuNavList.removeEventListener(\n    'click',\n    handlerClickMenuNavLink\n  );\n  selectors.mobileMenu.removeEventListener(\n    'click',\n    handlerCloseMenuByClickBackdrop\n  );\n  selectors.mobileMenuBookingBtn.removeEventListener(\n    'click',\n    handlerCloseMobileMenu\n  );\n\n  selectors.mobileMenu.classList.add('is-hidden');\n  selectors.body.classList.remove('mobile-menu-open');\n}\n\n/**\n * Handles a mouse click on the backdrop to close the mobile menu.\n * Calls the handlerCloseMobileMenu function only if the click originated from the currentTarget element itself, not its child elements.\n *\n * @param {MouseEvent} evt The mouse event object\n */\n\nfunction handlerCloseMenuByClickBackdrop(evt) {\n  if (evt.currentTarget === evt.target) {\n    handlerCloseMobileMenu();\n  }\n}\n\n/**\n * Handles a mouse click on a mobile menu nav-link to close the mobile menu.\n * If the clicked element or its ancestors have the class `.js-mobile-menu-nav-item`, it calls the handlerCloseMobileMenu function to close the mobile menu.\n *\n * @param {MouseEvent} evt The mouse event object\n */\n\nfunction handlerClickMenuNavLink(evt) {\n  if (evt.target.closest('.js-mobile-menu-nav-item')) {\n    handlerCloseMobileMenu();\n  }\n}\n","const scrollToTopBtn = document.querySelector('.js-scroll-to-top-btn');\n\nlet lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n/**\n * Controls the visibility of the scrollToTopBtn button (by adding or removing the 'is-hidden' class to the button) based on the user's scrolling behavior.\n * The button becomes visible when the user scrolls up or reaches near the bottom of the page.\n * It is hidden at the top of the page and when scrolling down and not near the page end.\n */\n\nexport function handlerShowBtnScrollToTop() {\n  const { scrollTop, offsetHeight, clientHeight } = document.documentElement;\n  const currentScroll = window.pageYOffset || scrollTop;\n  const isEndPage = offsetHeight - (scrollTop + clientHeight) < 100;\n\n  if (isEndPage || (currentScroll < lastScrollTop && currentScroll > 100)) {\n    scrollToTopBtn.classList.remove('is-hidden');\n  } else {\n    scrollToTopBtn.classList.add('is-hidden');\n  }\n\n  lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;\n}\n\n/**\n * Smoothly scrolls the page to the top. Uses the window.scrollTo method with smooth behavior to create a smooth scrolling effect.\n */\n\nexport function handlerScrollToTop() {\n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\n","export const validatorNameRule = [\n  { rule: 'required', errorMessage: 'The name is required.' },\n  {\n    rule: 'customRegexp',\n    value: /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]?[- ']*)*$/,\n    errorMessage:\n      \"The name may contain only letters, apostrophes, dashes, and spaces. For example: Adrian, Jacob Mercer, or Charles de Batz de Castelmore d'Artagnan.\",\n  },\n  {\n    rule: 'minLength',\n    value: 2,\n    errorMessage: 'The name is too short! Please enter at least 2 characters.',\n  },\n  {\n    rule: 'maxLength',\n    value: 30,\n    errorMessage:\n      'The name is too long! Please enter no more than 30 characters.',\n  },\n];\n\nexport const validatorPhoneRule = [\n  { rule: 'required', errorMessage: 'The phone number is required.' },\n  {\n    rule: 'customRegexp',\n    value: /^(\\+?\\d+)?\\s*(\\(\\d+\\))?[\\s-]*([\\d-]*)$/,\n    errorMessage:\n      'The phone number must contain digits and may include spaces, dashes, parentheses, and can start with a plus (+).',\n  },\n  {\n    rule: 'minLength',\n    value: 5,\n    errorMessage:\n      'The phone number is too short! Please enter at least 5 characters.',\n  },\n  {\n    rule: 'maxLength',\n    value: 18,\n    errorMessage:\n      'The phone number is too long! Please enter no more than 18 characters.',\n  },\n];\n\nexport const validatorMessageRule = [\n  {\n    rule: 'maxLength',\n    value: 600,\n    errorMessage:\n      'The message is too long! Please enter no more than 600 characters.',\n  },\n];\n","import Swiper from 'swiper';\nimport {\n  Navigation,\n  Pagination,\n  Autoplay,\n  EffectCoverflow,\n  Keyboard,\n} from 'swiper/modules';\n\nexport const swiperParameters = {\n  modules: [Navigation, Pagination, Autoplay, EffectCoverflow, Keyboard],\n  direction: 'horizontal',\n  loop: true,\n  effect: 'coverflow',\n\n  autoplay: {\n    delay: 6000,\n    disableOnInteraction: false,\n  },\n\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n  },\n\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n};\n\n/**\n * Initializes and returns a Swiper instance if it has not been initialized yet and the viewport width is at least 768px. If the Swiper is already initialized or the condition is not met, returns null.\n *\n * @param {Object | null} swiper An existing Swiper instance or null\n * @param {string | HTMLElement} swiperContainer A CSS selector string or HTMLElement representing the Swiper container\n * @param {Object} parameters Configuration options for initializing the Swiper instance\n *\n * @returns {Object | null} A new Swiper instance if initialized, otherwise null\n */\n\nexport function initSwiper(swiper, swiperContainer, parameters) {\n  if (!swiper && window.innerWidth >= 768) {\n    return (swiper = new Swiper(swiperContainer, parameters));\n  } else return null;\n}\n","import JustValidate from 'just-validate';\nimport throttle from 'lodash.throttle';\nimport { handlerSubmitBookingForm } from './eventHandlersBooking.js';\nimport { handlerOpenMobileMenu } from './eventHandlersMobileMenu.js';\nimport {\n  handlerScrollToTop,\n  handlerShowBtnScrollToTop,\n} from './eventHandlersScrollToTop.js';\nimport {\n  validatorMessageRule,\n  validatorNameRule,\n  validatorPhoneRule,\n} from './helpers.js';\nimport { initSwiper, swiperParameters } from './swiper.js';\n\nconst selectors = {\n  openMobileMenuBtn: document.querySelector('.js-open-mobile-menu-btn'),\n  bookingForm: document.querySelector('.js-booking-form'),\n  scrollToTopBtn: document.querySelector('.js-scroll-to-top-btn'),\n};\n\n// Booking form validator\nconst validator = new JustValidate(selectors.bookingForm);\n\nvalidator\n  .addField('#name', validatorNameRule)\n  .addField('#phone', validatorPhoneRule)\n  .addField('#message', validatorMessageRule)\n  .onSuccess(handlerSubmitBookingForm);\n\n// Mobile menu\nselectors.openMobileMenuBtn.addEventListener('click', handlerOpenMobileMenu);\n\n// Swiper\nlet swiper = null;\n\nswiper = initSwiper(swiper, '.swiper', swiperParameters);\n\nwindow.addEventListener('resize', handleResizeWindow);\n\n/**\n * Handles window resize to initialize Swiper if it hasn't been initialized yet.\n *\n * If Swiper is not yet initialized, calls the 'initSwiper' function and assigns the instance to the 'swiper' variable.\n *\n * If Swiper is already initialized, removes the resize event listener to prevent redundant calls.\n */\n\nfunction handleResizeWindow() {\n  if (swiper) return window.removeEventListener('resize', handleResizeWindow);\n\n  swiper = initSwiper(swiper, '.swiper', swiperParameters);\n}\n\n// Scroll to top\nhandlerShowBtnScrollToTop();\n\nwindow.addEventListener('scroll', throttle(handlerShowBtnScrollToTop, 200));\nselectors.scrollToTopBtn.addEventListener('click', handlerScrollToTop);\n"],"names":["selectors","handlerSubmitBookingForm","evt","form","name","_a","phone","_b","message","_c","handlerOpenModalWindow","messageText","handlerCloseModalWindow","handlerCloseModalByClickBackdrop","handlerCloseModalByEscape","handlerOpenMobileMenu","handlerCloseMobileMenu","handlerClickMenuNavLink","handlerCloseMenuByClickBackdrop","scrollToTopBtn","lastScrollTop","handlerShowBtnScrollToTop","scrollTop","offsetHeight","clientHeight","currentScroll","handlerScrollToTop","validatorNameRule","validatorPhoneRule","validatorMessageRule","swiperParameters","Navigation","Pagination","Autoplay","EffectCoverflow","Keyboard","initSwiper","swiper","swiperContainer","parameters","Swiper","validator","JustValidate","handleResizeWindow","throttle"],"mappings":"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"}